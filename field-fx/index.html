<!DOCTYPE html><html><head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">
  <title>field f/x</title>
  <style>
    body {
      display: flex;
      align-items: center;
      flex-direction: column;
      justify-content: center;
      min-height: 100vh;
    }
    canvas.field-fx {
      margin: .25rem;
    }
    div, a {
      text-align: center;
      display: block;
    }
    img {
      max-width: 100%;
    }
  </style>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KMRXD8X');</script>
  <!-- End Google Tag Manager -->
  </head>
  <body>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMRXD8X"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

    <div>
	    <canvas class="field-fx" data-src="/img/mindon.png" data-rgb="r"></canvas>
	    <canvas class="field-fx" data-src="/img/mindon.png" data-rgb="g"></canvas>
	    <canvas class="field-fx" data-src="/img/mindon.png" data-rgb="b"></canvas>
	    <canvas class="field-fx" data-src="/img/mindon.png" data-rgb="#"></canvas>
    </div>
    <a><canvas class="field-fx" data-src="/img/mindon.png" data-origin="" data-rgb="*"></canvas></a>
    <div><canvas id="mykq" data-src="/img/kq.jpeg" data-rgb="#" data-area="340,14,80,80" data-zoom="3"></canvas></div>
    <script type="module" src="field.528c0d288e8b6778c05f0a5686c42e93.js"></script>
    <script>
      const a = document.querySelector('a');
      function loadr(evt) {
        const files = evt.target.files;
        if (!window.FileReader || !files || files.length == 0) {
          return;
        }
        const r = new FileReader();
        r.onload = (evt) => {
          const img = a.querySelector('img');
          if (img) a.removeChild(img);
          const data = evt.target.result;
          Array.from(document.querySelectorAll("canvas.field-fx")).forEach(c => {
            c.dataset.src = data;
            c.reload();
          });
        };
        r.readAsDataURL(files[0]);
      }
      const flinp = document.createElement('input');
      flinp.style.display = "none";
      flinp.type = 'file';
      flinp.accept = 'image/jpeg,image/png,image/gif,.gif,.png,.jpg,.jpeg';
      flinp.addEventListener('change', loadr);
      document.body.appendChild(flinp);

      a.addEventListener('click', () => {
        flinp.click();
      });
      window.addEventListener('field-fx-ready', () => {
        a.querySelector('canvas').play([{rgb:'r',dur:1}, {rgb:'g',dur:1}, {rgb:'b',dur:1}, {rgb:'#',dur:2}, {rgb:'rgb',dur:3}]);

        // kq animation with clips
        const mykq = document.querySelector('#mykq');
        fieldFx(mykq);
        const sampling = Array.from(Array(890).keys());
        const [w, h, dur, rgb] = [180, 180, 0.01, '#'];
        mykq.play(sampling.map(i => ({area: [664, -100 + i *2, w, h], dur, rgb}))
          .concat(sampling.map(i => ({area: [470, -100 + i * 2, w, h], dur, rgb})))
          .concat(Array.from(Array(370).keys()).map(i => ({area: [264, -100 + i * 2, w, h], dur, rgb})))
          .concat(Array.from(Array(470).keys()).map(i => ({area: [80, 720 + i*2, w, h], dur, rgb})))
          );
      });
    </script>
  

</body></html>